{% load i18n %}
{% load humanize %}

{% if event %}
<p><b>File</b> {% if event.files %}<span>{{ event.files }}</span>{% endif %}</p>
{% if event.sample_id %}
<table class="table table-striped table-sm">
    <thead>
    <tr><th>{% trans 'Start Bottle' %}</th><th>{% trans 'End Bottle' %}</th><th>{% trans 'Total Bottles' %}</th></tr>
    </thead>
    <tbody>
    <tr>
        <td>{% if event.sample_id %}{{ event.sample_id }}{% endif %}</td>
        <td>{% if event.end_sample_id %}{{ event.end_sample_id }}{% endif %}</td>
        <td>{% if event.total_samples %}{{ event.total_samples }}{% endif %}</td>
    </tr>
    </tbody>
</table>
{% endif %}

<table class="table table-striped table-sm">
    <thead>
    <tr><th>{% trans 'Action' %}</th><th>{% trans 'Time' %}</th><th>{% trans 'Duration' %}</th><th>{% trans 'Latitude' %}</th><th>{% trans 'Longitude' %}</th><th>{% trans 'Distance(m)' %}</th></tr>
    </thead>
    <tbody>
    {% for action in event.actions.all %}
    <tr>
        <td>{{ action.get_type_display }}</td>
        <td>{{ action.date_time }}</td>
        <td>{{ action.drift_time }}</td>
        <td>{{ action.latitude|floatformat:4 }}</td>
        <td>{{ action.longitude|floatformat:4 }}</td>
        <td>{{ action.drift_distance|floatformat:2 }}</td>
    </tr>
    {% endfor %}
    </tbody>
    <tfoot>
        <tr><th>{% trans 'Total' %}</th>
            <td></td>
            <th>{{ event.drift_time }}</th>
            <td></td>
            <td></td>
            <th>{{ event.drift_distance|floatformat:2 }}</th>
        </tr>
    </tfoot>
</table>
<table class="table table-striped table-sm">
    <thead>
    <tr class="bg-light"><th colspan="2"><span class="h4">{% trans 'Attachments' %}</span></th></tr>
    </thead>
    <tbody>
    {% for atta in event.attachments.all %}
    <tr>
        <td>{{ atta.name }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<table class="table table-striped table-sm">
    <thead>
    <tr class="bg-light"><th colspan="2"><span class="h4">{% trans 'Comments' %}</span></th></tr>
    <tr>
        <th class="col-1">{% trans 'Action' %}</th>
        <th class="col">{% trans 'Comment' %}</th>
    </tr>
    </thead>
    <tbody>
    {% for action in event.actions.all %}
        {% if action.comment %}
    <tr>
        <td>{{ action.get_type_display }}</td>
        <td>{{ action.comment }}</td>
    </tr>
        {% endif %}
    {% endfor %}
    </tbody>
</table>
{% endif %}